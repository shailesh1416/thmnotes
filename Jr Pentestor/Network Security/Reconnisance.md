# Network Security

## Reconnisance

### Passive Scanning : 
    These are all publicly available records and hence do not alert the target.
- If you know the enemy and know yourself, your victory will not stand in doubt.
- First step in The Unified Kill Chain to gain an initial foothold on a system.



**Activities include**:
- Looking up DNS records of a domain from a public DNS server.
- Checking job ads related to the target website.
- Reading news articles about the target company.


**Essential Tools**:

- whois: to query WHOIS servers\
`whois DOMAIN_NAME`\
`E.g: nslookup -type=A tryhackme.com 1.1.1.1`
- nslookup: to query DNS servers\
`nslookup DOMAIN_NAME`\
`nslookup OPTIONS DOMAIN_NAME SERVER`\
`E.g. nslookup -type=A tryhackme.com 1.1.1.1`
- dig:  to query DNS servers\
`dig DOMAIN_NAME TYPE`\
`dig @SERVER DOMAIN_NAME TYPE`\
`E.g. dig @1.1.1.1 tryhackme.com MX`


**Online Services**
- DNSDumpster
- Shodan.io


**Terms**
- SERVER is the DNS server that you want to query
- DOMAIN_NAME is the domain name you are looking up
- TYPE contains the DNS record type

**Query Types:**

A       : IPv4 Addresses\
AAAA    : IPv6 Addresses\
CNAME   : Canonical Name\
MX      : Mail Servers\
SOA     : Start of Authority\
TXT     : TXT Records\


### Active Scanning : 
    Requires you to make some kind of contact with your target
    - Social Engineering
    - Direct connection to target system ( website, open ports)
    - Visiting premises
    - Signed legal authorization from the client, Then engage

**Essential Tools**

- Built in developer tool
- Ping\
`ping MACHINE_IP`\
`ping -c10 MACHINE_IP`\
`ping -n10 MACHINE_IP` - MS WINDOWS\

    Reason for no response:
    - Still booting up or turned off, or the OS has crashed.
    - Unplugged or faulty network device across the path.
    - Firewall is configured to block such packets. 
    - MS Windows firewall blocks ping by default.
    - System is unplugged from the network.
- Traceroute\
`tracert MACHINE_IP`
    - No guarantee that your packets will always follow the same route.
    - Some routers return a public IP address. (examin only if in scope)
    - Some routers donâ€™t return a reply.
- Telnet\
`telnet MACHINE_IP port`\
`GET / HTTP/1.1`\
`host : example.com`\
`<Enter><Enter>`
    - 1969
    - Remote communication
    - Not secure (Cleartext)
- Netcat\
`Client side : nc MACHINE_IP PORT_NUMBER`\
`Listening server : nc -nvlp PORT_NUMBER`
    - l&emsp;   Listen mode
    - p&emsp; 	Specify the Port number
    - n&emsp;  	Numeric only; no resolution of hostnames via DNS
    - v&emsp;  	Verbose output (optional, yet useful to discover any bugs)
    - vv&emsp;  Very Verbose (optional)
    - k&emsp;  	Keep listening after client disconnects






